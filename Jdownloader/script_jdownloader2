if (event.getEventName() != "DOWNLOAD_STARTED") return;

var jsonFile = "C:\\JDownloader\\videos.json"; // adjust path
var mapping = {};

try {
    // Read JSON file
    var f = new java.io.File(jsonFile);
    if(f.exists()) {
        var reader = new java.io.FileReader(f);
        var buffered = new java.io.BufferedReader(reader);
        var sb = new java.lang.StringBuilder();
        var line;
        while((line = buffered.readLine()) != null) {
            sb.append(line);
        }
        buffered.close();
        reader.close();

        // Parse array
        var array = JSON.parse(sb.toString());

        // Convert to mapping object: link -> VideoID
        for(var i = 0; i < array.length; i++) {
            mapping[array[i].DownloadableLink] = array[i].VideoID;
        }

    } else {
        log("JSON file not found: " + jsonFile);
    }
} catch(e) {
    log("Error reading JSON file: " + e);
}

// Get download link
var link = event.getDownloadLink();
var url = link.getURL();

// Rename if link exists in mapping
if(mapping[url]) {
    var oldName = link.getName();
    var ext = oldName.substring(oldName.lastIndexOf('.')); // keep extension
    link.setName(mapping[url] + ext);
}